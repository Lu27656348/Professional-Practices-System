<h2 mat-dialog-title>Asignacion de Profesor Revisor</h2>
<mat-dialog-content class="mat-typography">

  <p><strong>Seleccione el Profesor Revisor</strong></p>
  <mat-divider></mat-divider>
  <form [formGroup]="reviewerForm">
    <mat-form-field style="width: 100%;">
        <mat-label>Profesor Revisor</mat-label>
        <mat-select [value]="reviewerSelected" formControlName = "reviewer" (selectionChange)="onSelectionChange()">
            <mat-option *ngFor="let professor of professorsList" [value]="professor.userDNI">
                {{ professor.userlastname + ', ' + professor.userfirstname }} 
            </mat-option>
        </mat-select>
    </mat-form-field >
  </form>

  <p><strong>Seleccione el Cómite de Trabajo de Grado</strong></p>
  <mat-divider></mat-divider>
  <form [formGroup]="committeeForm">
    <mat-form-field style="width: 100%;">
        <mat-label>Comite de Trabajo de Grado</mat-label>
        <mat-select [value]="committeeSelected" formControlName = "committeeId" (selectionChange)="onSelectionChange()">
            <mat-option *ngFor="let committee of committeeList" [value]="committee.committeeId">
                {{  
                    committee.committeeId
                }} 
            </mat-option>
        </mat-select>
    </mat-form-field >
  </form>
  <div style="display: flex;">
    <button mat-raised-button style="background-color: rgb(0, 162, 255); height: 56px; width: 56px;" (click)="createCommittee()">
      <mat-icon>add_circle</mat-icon>
    </button>
    <form  *ngIf="isCreateNewCommittee" [formGroup]="committeeForm" style="width: 82%;">
      <mat-form-field style="width: 100%;">
        <mat-label>Ingrese un nuevo Comite de Trabajo de Grado</mat-label>
        <input matInput placeholder="001-2023-2024" value= "" formControlName = "committeeId">
      </mat-form-field>
    </form>
  </div>
  <p><strong>Seleccione los Criterios de Evaluación</strong></p>
  <p></p>
  <mat-divider></mat-divider>
  <section [formGroup] = "criteriaForm" style="display: flex; flex-direction: column;">
    <p></p>
    <mat-checkbox *ngFor="let item of criteria" [formControlName]="item.reviewerCriteriaId" (change)="onCheckboxChange(item)">{{item.reviewerCriteriaDescription}}</mat-checkbox>
    <p></p>
  </section> 
  <div style="display: flex;">
    <button mat-raised-button style="background-color: rgb(0, 162, 255); height: 56px; width: 56px;" (click)="createReviewerCriteria()">
      <mat-icon>add_circle</mat-icon>
    </button>
    <form  *ngIf="isCreateNewReviewerCriteria" [formGroup]="reviewerCriteriaForm" style="width: 82%;">
      <mat-form-field style="width: 100%;">
        <mat-label>Ingrese un nuevo Criterio</mat-label>
        <input matInput placeholder="..." value= "" formControlName = "reviewerCriteriaDescription">
      </mat-form-field>
    </form>
    <button mat-raised-button style="background-color: rgb(0, 162, 255); height: 56px; width: 56px;" (click)="addReviewerCriteria()" *ngIf="isCreateNewReviewerCriteria">
      <mat-icon>check</mat-icon>
    </button>
  </div>

</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-button style="background-color: red;"  [mat-dialog-close]="true" cdkFocusInitial (click)="veredictoPropuesta('rechazar')">Rechazar</button>
  <button mat-button style="background-color: green;" cdkFocusInitial (click)="veredictoPropuesta('aprobar')">Enviar a Profesor Revisor</button>
  <button mat-button style="background-color: green;" cdkFocusInitial (click)="obtenerInformePropuesta()">Obtener Informe</button>

</mat-dialog-actions>
