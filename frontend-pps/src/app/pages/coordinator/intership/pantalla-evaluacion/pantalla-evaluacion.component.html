<div style="display: flex; justify-content: center; background-color: aliceblue; flex-direction: column; height: 100%;">
    <h1 style="display: flex; align-items: center; justify-content: center; margin-top: 5%;"><strong>Evaluación tutor {{modo}}</strong></h1>
    <p style=" display: flex; align-items: center; justify-content: center;">Bienvenido</p>
    <p style=" display: flex; align-items: center; justify-content: center; margin-bottom: 1%;" >Para generar la planillas selecciona todos los criterios y se creará automáticamente </p>
    <div style=" height: 100%;" >

        <mat-tab-group>
            
            <mat-tab *ngFor="let seccion of dataSourceV2" [label]="seccion.seccionName">
                <table mat-table [dataSource]="seccion.criteriaList" class="mat-elevation-z8">

                    <!--- Note that these columns can be defined in any order.
                          The actual rendered columns are set as a property on the row definition" -->
                  
                    <!-- Position Column -->
                    <ng-container matColumnDef="criterio">
                      <th mat-header-cell *matHeaderCellDef> Criterios </th>
                      <td mat-cell *matCellDef="let element" > {{element.criteriaName}} </td>
                      <td mat-footer-cell *matFooterCellDef> Total {{totalSum}} / 20</td>
                    </ng-container>
                
                    <ng-container matColumnDef="0" *ngIf="notaMaxima >= 0">
                        <th mat-header-cell *matHeaderCellDef> 0 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="0 <= element.maxNote" (change)="onCheckboxChange(element, 0)" [checked]="element.selectedCheckBoxIndex === 0"></mat-checkbox>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
        
                      <ng-container matColumnDef="1" *ngIf="notaMaxima >= 1">
                        <th mat-header-cell *matHeaderCellDef> 1 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="1 <= element.maxNote" (change)="onCheckboxChange(element, 1)" [checked]="element.selectedCheckBoxIndex === 1"></mat-checkbox>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
        
                      <ng-container matColumnDef="2" *ngIf="notaMaxima >= 2">
                        <th mat-header-cell *matHeaderCellDef> 2 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="2 <= element.maxNote" (change)="onCheckboxChange(element, 2)" [checked]="element.selectedCheckBoxIndex === 2"></mat-checkbox>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
        
                      <ng-container matColumnDef="3" *ngIf="notaMaxima >= 3">
                        <th mat-header-cell *matHeaderCellDef> 3 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="3 <= element.maxNote" (change)="onCheckboxChange(element, 3)" [checked]="element.selectedCheckBoxIndex === 3"></mat-checkbox>
                        </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                      </ng-container>
        
                      <ng-container matColumnDef="4" *ngIf="notaMaxima >= 4">
                        <th mat-header-cell *matHeaderCellDef> 4 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="4 <= element.maxNote" (change)="onCheckboxChange(element, 4)" [checked]="element.selectedCheckBoxIndex === 4"></mat-checkbox>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
              
                      <ng-container matColumnDef="5" *ngIf="notaMaxima >= 5">
                        <th mat-header-cell *matHeaderCellDef> 5 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="5 <= element.maxNote" (change)="onCheckboxChange(element, 5)" [checked]="element.selectedCheckBoxIndex === 5"></mat-checkbox>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
        
                      <ng-container matColumnDef="6" *ngIf="notaMaxima >= 6">
                        <th mat-header-cell *matHeaderCellDef> 6 </th>
                        <td mat-cell *matCellDef="let element" >
                            <mat-checkbox *ngIf="6 <= element.maxNote" (change)="onCheckboxChange(element, 6)" [checked]="element.selectedCheckBoxIndex === 6"></mat-checkbox>
                        </td>
                      </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
                </table>
            </mat-tab>
                
        </mat-tab-group>
        




      
    <div style="display: flex; align-items: center; justify-content: flex-end; height: 10%;">
      <button mat-raised-button color="primary" [disabled]="!allNotesAreSelected" (click)="generarPlanilla()">Generar Planilla</button>
    </div>
  
</div>